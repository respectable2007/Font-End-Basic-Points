<!DOCTYPE html>
<html>
  <head>
      <meta charset='utf-8'>
      <title>String API</title>
  </head>
  <body>
    <script type='text/javascript'>
	  var str1 = 'a',
	      str2 = str1.concat('1',2,3,4,5),//a12345
		  str3 = str1.concat([1,2,3,4,5]),//a1,2,3,4,5
		  str4 = str1.concat({b:'b'}),//a[object Object]
		  str5 = 'at,bat,cat,dat,eat',
		  str6 = str5.replace(/(a(t))/g,"word($1)ren[$']"),//word(at),bword(at),cword(at),dword(at),eword(at)
		  str7 = str5.replace(/(at)/g, function(...match) {
		    /*
			["at", "at", 0, "at,bat,cat,dat,eat"]
            ["at", "at", 4, "at,bat,cat,dat,eat"]
            ["at", "at", 8, "at,bat,cat,dat,eat"]
            ["at", "at", 12, "at,bat,cat,dat,eat"]
            ["at", "at", 16, "at,bat,cat,dat,eat"]
			*/
		    console.log(match)
		  }),
		  matched = str5.match(/at/),//["at", index: 0, input: "at,bat,cat,dat,eat", groups: undefined]
		  /*以除了逗号外任意数任意字符为分隔符*/
		  matched1 = str5.split(/[^\,]+/);//["", ",", ",", ",", ",", ""]
	      console.log(str6);
	      console.log(matched1);
	  //(010)111111转为010-111111
	   var str8 = '(010)111111',
       str1= str8.replace(/^(\(\d{3}\))/g, function(match){
	     return match.slice(1, match.length - 1) + '-';
	   });
	   console.log(str1)
	  //找到字符串中连续的数字并输出成正数形式
	  var str9 = '01.1abc111ef90g0000';
	  str9.replace(/(\d+(\.?)\d+)/g, function(match){
	    console.log(parseFloat(match))
	  })
	  //统计字符串中单词出现个数
	  console.log('111As111 of Saturday, Huawei has received 28 contracts from Europe, 11 from the Middle East, six from the,'.match(/\b[^\d_]\w+[^\d_]\b/g))
	  //将字符串'abCdEFg'改写为ab.cd.e.fg
	  'abCdEFg'.replace(/([A-Z])/g, '.$1').toLocaleLowerCase()

	  /* 正则表达式与字符串 */
	  var string = 'regexe',
	      string1 = 'copyright 2003.';
	  console.log(/\w+s/.exec(string));
	  //第一个捕获组匹配结果是3，而不是2003。是因为.*因为[0-9]+必须释放一些字符，但有先来先服务原则，仅释放字符3和点号，3匹配[0-9],点号不匹配
	  console.log(/^.*([0-9]+)/.exec(string1));
	  var str = "this is test string <img src=\"http:yourweb.com/test.jpg\" width='50' > 123 and the end <img src=\"所有地址也能匹配.jpg\" /> 33! <img src=\"/uploads/attached/image/20120426/20120426225658_92565.png\" alt=\"\" />"
	  //匹配图片（g表示匹配所有结果i表示区分大小写）
	  var imgReg = /<img.*?>|\/>/gi;
	  //匹配src属性
	  var srcReg = /(?<=src\=)[\'\"]?([^\'\"]*)[\'\"]?/i;
	  var arr = str.match(imgReg);
	  console.log(arr);
	  for (var i = 0; i < arr.length; i++) {
	    var src = arr[i].match(srcReg)[0].split('').reverse().join('');
      }
      //解析URL
	  function getSearch(url){
	    var urlReg = /(?<=\?)(\w+\=\w*&?)*/i;
		return url.match(urlReg);
	  }
	  console.log(getSearch('http://zhuanzhuan.com/?user=lilei&sex=male&age=21'));
	  //var _reg = /(?<=^netease).*(?=163$)/g,
	  var _reg = /^netease.*163$/g,
	      testReg = /(test)/g,
	  stringReg = 'testnateasejtestkfdla;jfkdla;163test163';
	  stringReg.replace(testReg, function(m,index,pos,origionText){
	    console.log(index);
		console.log(m);
		console.log(pos);
		console.log(origionText);
	  });
	  console.log(testReg.exec(stringReg));
	  console.log(testReg.exec(stringReg));
	  console.log(testReg.exec(stringReg));
    </script>
  </body>
</html>